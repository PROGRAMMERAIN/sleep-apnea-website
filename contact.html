<!DOCTYPE html>
<html lang="fr" data-lang="fr"> <!-- Default to French -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Contactez Dr. Selma Bakha à la Clinique Sommeil Guelma pour une consultation ou un diagnostic d'apnée du sommeil. Prenez rendez-vous en ligne. اتصل بالدكتورة سلمى بخة في عيادة طب النوم قالمة للاستشارة أو تشخيص انقطاع التنفس أثناء النوم. احجز موعدك عبر الإنترنت.">
    <meta name="keywords" content="contact clinique sommeil guelma, rendez-vous apnée sommeil guelma, dr selma bakha contact, téléphone clinique sommeil, adresse clinique sommeil guelma, اتصل عيادة نوم قالمة, موعد انقطاع التنفس قالمة, الدكتورة سلمى بخة اتصال, رقم هاتف عيادة نوم, عنوان عيادة نوم قالمة">
    <title>Contact & Rendez-vous - Clinique Sommeil Guelma | اتصل بنا واحجز موعدك</title>
    <link rel="stylesheet" href="style.css"> <!-- Link to your main stylesheet -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

    <header>
        <div class="container">
            <div class="logo">
                <span class="lang-fr">Clinique Sommeil Guelma - Dr. S. Bakha</span>
                <span class="lang-ar">عيادة طب النوم قالمة - د. س. بخة</span>
            </div>
            <nav>
                <ul>
                    <li>
                        <a href="index.html" class="lang-fr">Accueil</a>
                        <a href="index.html" class="lang-ar">الرئيسية</a>
                    </li>
                    <li>
                        <a href="about.html" class="lang-fr">À Propos</a>
                        <a href="about.html" class="lang-ar">عن العيادة</a>
                    </li>
                    <li>
                        <a href="apnea.html" class="lang-fr">Apnée du Sommeil</a>
                        <a href="apnea.html" class="lang-ar">انقطاع التنفس النومي</a>
                    </li>
                    <li>
                        <a href="contact.html" class="lang-fr active">Contact</a> <!-- Active link -->
                        <a href="contact.html" class="lang-ar active">اتصل بنا</a> <!-- Active link -->
                    </li>
                </ul>
            </nav>
            <div class="lang-switcher">
                <button id="lang-fr-btn">Français</button>
                <button id="lang-ar-btn">العربية</button>
            </div>
        </div>
    </header>

    <main>
        <section class="page-title-section">
            <div class="container">
                <h1 class="lang-fr">Contactez-Nous et Prenez Rendez-vous</h1>
                <h1 class="lang-ar">اتصل بنا واحجز موعدك</h1>
            </div>
        </section>

        <section class="contact-page-section">
            <div class="container">
                <div class="contact-grid">
                    <div class="contact-details-column">
                        <h2 class="lang-fr">Nos Coordonnées</h2>
                        <h2 class="lang-ar">معلومات الاتصال بنا</h2>
                        <p class="lang-fr">N'hésitez pas à nous contacter pour toute question ou pour prendre rendez-vous. Notre équipe est là pour vous aider.</p>
                        <p class="lang-ar">لا تتردد في الاتصال بنا لأي استفسار أو لتحديد موعد. فريقنا هنا لمساعدتك.</p>

                        <div class="contact-item">
                            <i class="fas fa-clinic-medical"></i>
                            <div>
                                <strong class="lang-fr">Clinique:</strong> <strong class="lang-ar">العيادة:</strong><br>
                                <span class="lang-fr">Cabinet Dr Selma Bakha Pneumo-allergologue</span>
                                <span class="lang-ar">عيادة الدكتورة سلمى بخة لأمراض الصدر والحساسية</span>
                            </div>
                        </div>

                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <div>
                                <strong class="lang-fr">Téléphone:</strong> <strong class="lang-ar">الهاتف:</strong><br>
                                <a href="tel:+213663755584">0663 75 55 84</a>
                            </div>
                        </div>

                        <div class="contact-item">
                            <i class="fab fa-whatsapp"></i>
                            <div>
                                <strong class="lang-fr">WhatsApp:</strong> <strong class="lang-ar">واتساب:</strong><br>
                                <a href="https://wa.me/213663755584" target="_blank">0663 75 55 84</a> (Chat direct)
                            </div>
                        </div>

                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <div>
                                <strong class="lang-fr">Email:</strong> <strong class="lang-ar">البريد الإلكتروني:</strong><br>
                                <a href="mailto:selma.bakha@hotmail.com">selma.bakha@hotmail.com</a>
                            </div>
                        </div>

                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <strong class="lang-fr">Adresse:</strong> <strong class="lang-ar">العنوان:</strong><br>
                                <span class="lang-fr">Derrière L'Hôpital Elhakim Okbi, en face les urgences chirurgicales, Guelma, Algérie.</span>
                                <span class="lang-ar">خلف مستشفى الحكيم عقبي، مقابل الاستعجالات الجراحية، قالمة، الجزائر.</span>
                            </div>
                        </div>

                        <div class="contact-item">
                            <i class="fas fa-clock"></i>
                            <div>
                                <strong class="lang-fr">Horaires d'Ouverture (Exemple):</strong>
                                <strong class="lang-ar">أوقات العمل ():</strong><br>
                                <span class="lang-fr">Samedi - Jeudi : 09h00 - 17h00</span>
                                <span class="lang-ar">السبت - الخميس : 09:00 - 17:00</span><br>
                                <span class="lang-fr">Vendredi : Fermé</span>
                                <span class="lang-ar">الجمعة : مغلق</span>
                                <em class="lang-fr">(Veuillez appeler pour confirmer)</em>
                                <em class="lang-ar">(يرجى الاتصال للتأكيد)</em>
                            </div>
                        </div>
                    </div>

                    <div class="contact-form-column">
                        <h2 class="lang-fr">Demande de Rendez-vous en Ligne</h2>
                        <h2 class="lang-ar">طلب موعد عبر الإنترنت</h2>
                        <p class="lang-fr">Remplissez le formulaire ci-dessous pour demander un rendez-vous. Nous vous contacterons dans les plus brefs délais pour confirmer la date et l'heure.</p>
                        <p class="lang-ar">املأ النموذج أدناه لطلب موعد. سنتصل بك في أقرب وقت ممكن لتأكيد التاريخ والوقت.</p>
                        <!-- Form action updated with your Formspree endpoint -->
                        <form id="appointmentForm" action="https://formspree.io/f/mkgrkwyn" method="POST">
                            <div class="form-group">
                                <label for="fullName" class="lang-fr">Nom Complet*</label>
                                <label for="fullName" class="lang-ar">الاسم الكامل*</label>
                                <input type="text" id="fullName" name="fullName" required>
                            </div>
                            <div class="form-group">
                                <label for="phone" class="lang-fr">Numéro de Téléphone*</label>
                                <label for="phone" class="lang-ar">رقم الهاتف*</label>
                                <input type="tel" id="phone" name="phone" required>
                            </div>
                            <div class="form-group">
                                <label for="email" class="lang-fr">Adresse E-mail</label>
                                <label for="email" class="lang-ar">البريد الإلكتروني</label>
                                <input type="email" id="email" name="email">
                            </div>
                            <div class="form-group">
                                <label for="reason" class="lang-fr">Motif de la Consultation (Optionnel)</label>
                                <label for="reason" class="lang-ar">سبب الاستشارة (اختياري)</label>
                                <textarea id="reason" name="reason" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="preferredDate" class="lang-fr">Date Préférée (Optionnel)</label>
                                <label for="preferredDate" class="lang-ar">التاريخ المفضل (اختياري)</label>
                                <input type="date" id="preferredDate" name="preferredDate">
                            </div>
                             <p class="form-note">
                                <small class="lang-fr">Note: La soumission de ce formulaire est une demande et ne garantit pas un rendez-vous. Nous vous contacterons pour confirmation.</small>
                                <small class="lang-ar">ملاحظة: تقديم هذا النموذج هو طلب ولا يضمن الموعد. سنتصل بك للتأكيد.</small>
                            </p>
                            <button type="submit" class="cta-button form-submit-button">
                                <span class="lang-fr">Envoyer la Demande</span>
                                <span class="lang-ar">إرسال الطلب</span>
                            </button>
                        </form>
                        <div id="form-message" style="margin-top: 15px;"></div>
                    </div>
                </div>

                <div class="map-section">
                    <h2 class="lang-fr">Retrouvez-Nous sur la Carte</h2>
                    <h2 class="lang-ar">تجدنا على الخريطة</h2>
                    <!-- IMPORTANT: Replace this iframe with YOUR clinic's Google Maps embed code -->
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3210.0000000000005!2d7.430000000000001!3d36.460000000000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x12f1cdxxxxxxxxxxxxx%3A0x_YOUR_CLINIC_ID_HERE_!2sCabinet%20Dr%20Bakha%20Pneumo-allergologue!5e0!3m2!1sen!2sdz!4vINSERT_TIMESTAMP_HERE" width="100%" height="450" style="border:0; border-radius: 8px;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
             <div class="footer-content">
                <div class="contact-info">
                    <h3 class="lang-fr">Contactez-Nous</h3>
                    <h3 class="lang-ar">اتصل بنا</h3>
                    <p>
                        <span class="lang-fr">Cabinet Dr Selma Bakha Pneumo-allergologue</span><br>
                        <span class="lang-ar">عيادة الدكتورة سلمى بخة لأمراض الصدر والحساسية</span>
                    </p>
                    <p>
                        <i class="fas fa-phone"></i> <span class="lang-fr">Téléphone:</span> <span class="lang-ar">الهاتف:</span> <a href="tel:+213663755584">0663 75 55 84</a>
                    </p>
                    <p>
                        <i class="fab fa-whatsapp"></i> <span class="lang-fr">WhatsApp:</span> <span class="lang-ar">واتساب:</span> <a href="https://wa.me/213663755584" target="_blank">0663 75 55 84</a>
                    </p>
                    <p>
                        <i class="fas fa-envelope"></i> <span class="lang-fr">Email:</span> <span class="lang-ar">البريد الإلكتروني:</span> <a href="mailto:selma.bakha@hotmail.com">selma.bakha@hotmail.com</a>
                    </p>
                    <p>
                        <i class="fas fa-map-marker-alt"></i> <strong class="lang-fr">Adresse:</strong>
                        <strong class="lang-ar">العنوان:</strong><br>
                        <span class="address-text">
                            <span class="lang-fr">Derrière L'Hôpital Elhakim Okbi, en face les urgences chirurgicales, Guelma, Algérie.</span>
                            <span class="lang-ar">خلف مستشفى الحكيم عقبي، مقابل الاستعجالات الجراحية، قالمة، الجزائر.</span>
                        </span>
                    </p>
                </div>
                <div class="map-placeholder">
                    <h3 class="lang-fr">Notre Emplacement</h3>
                    <h3 class="lang-ar">موقعنا</h3>
                     <img src="https://via.placeholder.com/300x200?text=Aper%C3%A7u+Carte" alt="Aperçu Carte" style="max-width:100%; border-radius:5px;">
                    <p style="margin-top:10px;"><a href="https://g.co/kgs/3tNNgbV" target="_blank" class="lang-fr">Voir sur Google Maps</a></p>
                    <p style="margin-top:10px;"><a href="https://g.co/kgs/3tNNgbV" target="_blank" class="lang-ar">عرض على خرائط جوجل</a></p>
                </div>
            </div>
            <p class="copyright">
                © <span id="currentYear"></span>
                <span class="lang-fr">Clinique Sommeil Guelma - Dr. Selma Bakha. Tous droits réservés.</span>
                <span class="lang-ar">عيادة طب النوم قالمة - د. سلمى بخة. جميع الحقوق محفوظة.</span>
            </p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        const appointmentForm = document.getElementById('appointmentForm');
        const formMessage = document.getElementById('form-message');
        const formActionURL = appointmentForm ? appointmentForm.getAttribute('action') : '';

        if (appointmentForm && formActionURL.includes('formspree.io')) {
            appointmentForm.addEventListener('submit', function(event) {
                event.preventDefault();

                const formData = new FormData(appointmentForm);
                const submitButton = appointmentForm.querySelector('button[type="submit"]');
                const originalButtonTextFr = submitButton.querySelector('.lang-fr').textContent;
                const originalButtonTextAr = submitButton.querySelector('.lang-ar').textContent;

                submitButton.disabled = true;
                submitButton.querySelector('.lang-fr').textContent = 'Envoi en cours...';
                submitButton.querySelector('.lang-ar').textContent = 'جارٍ الإرسال...';
                // Ensure the global language switcher function is available or handle text update directly
                if (typeof setLanguage === "function") {
                    setLanguage(document.documentElement.getAttribute('data-lang') || 'fr');
                } else { // Fallback if setLanguage is not globally available here
                    const currentLang = document.documentElement.getAttribute('data-lang') || 'fr';
                    if (currentLang === 'fr') {
                        submitButton.querySelector('.lang-ar').style.display = 'none';
                        submitButton.querySelector('.lang-fr').style.display = 'inline';
                    } else {
                        submitButton.querySelector('.lang-fr').style.display = 'none';
                        submitButton.querySelector('.lang-ar').style.display = 'inline';
                    }
                }


                fetch(formActionURL, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                })
                .then(response => {
                    if (response.ok) {
                        return response.json();
                    } else {
                        return response.json().then(data => {
                            let errorMsg = 'Une erreur est survenue.';
                            if (data && data.errors && data.errors.length > 0) {
                                errorMsg = data.errors.map(err => err.message).join(', ');
                            } else if (data && data.error) {
                                errorMsg = data.error;
                            }
                            throw new Error(errorMsg);
                        });
                    }
                })
                .then(data => {
                    // Formspree new API returns "ok: true" or "success: true" in the `data` object itself on successful submission
                    if (data.ok || data.success) {
                        formMessage.innerHTML = `<p style="color: green;" class="lang-fr">Votre demande a été envoyée avec succès ! Nous vous contacterons bientôt.</p>
                                                 <p style="color: green;" class="lang-ar">تم إرسال طلبك بنجاح! سوف نتصل بك قريبا.</p>`;
                        appointmentForm.reset();
                    } else {
                        // This case might not be hit if response.ok was false and error was thrown
                        formMessage.innerHTML = `<p style="color: red;" class="lang-fr">Erreur: ${data.error || 'Impossible d\'envoyer le formulaire.'}</p>
                                                 <p style="color: red;" class="lang-ar">خطأ: ${data.error || 'تعذر إرسال النموذج.'}</p>`;
                    }
                })
                .catch(error => {
                    console.error('Error submitting form:', error);
                    formMessage.innerHTML = `<p style="color: red;" class="lang-fr">Erreur: ${error.message || 'Une erreur s\'est produite. Veuillez réessayer.'}</p>
                                             <p style="color: red;" class="lang-ar">خطأ: ${error.message || 'حدث خطأ. يرجى المحاولة مرة أخرى.'}</p>`;
                })
                .finally(() => {
                    submitButton.disabled = false;
                    submitButton.querySelector('.lang-fr').textContent = originalButtonTextFr;
                    submitButton.querySelector('.lang-ar').textContent = originalButtonTextAr;
                     if (typeof setLanguage === "function") {
                        setLanguage(document.documentElement.getAttribute('data-lang') || 'fr');
                    } else { // Fallback
                        const currentLang = document.documentElement.getAttribute('data-lang') || 'fr';
                        if (currentLang === 'fr') {
                            formMessage.querySelectorAll('.lang-ar').forEach(el => el.style.display = 'none');
                            formMessage.querySelectorAll('.lang-fr').forEach(el => el.style.display = 'inline');
                            submitButton.querySelector('.lang-ar').style.display = 'none';
                            submitButton.querySelector('.lang-fr').style.display = 'inline';
                        } else {
                            formMessage.querySelectorAll('.lang-fr').forEach(el => el.style.display = 'none');
                            formMessage.querySelectorAll('.lang-ar').forEach(el => el.style.display = 'inline');
                            submitButton.querySelector('.lang-fr').style.display = 'none';
                            submitButton.querySelector('.lang-ar').style.display = 'inline';
                        }
                    }
                });
            });
        } else if (appointmentForm) { // Fallback for non-Formspree or if JS logic for Formspree fails to initialize
            appointmentForm.addEventListener('submit', function(e){
                const fullName = document.getElementById('fullName').value;
                const phone = document.getElementById('phone').value;
                if (!fullName || !phone) {
                    e.preventDefault(); // Prevent submission if basic validation fails
                    formMessage.innerHTML = `<p style="color: red;" class="lang-fr">Veuillez remplir tous les champs obligatoires (*).</p>
                                             <p style="color: red;" class="lang-ar">يرجى ملء جميع الحقول الإلزامية (*).</p>`;
                    if (typeof setLanguage === "function") setLanguage(document.documentElement.getAttribute('data-lang') || 'fr');
                }
                // If not prevented, the browser will attempt to submit to the action URL (Formspree)
                // and Formspree will handle the response with its own thank you/error page.
            });
        }
    </script>

</body>
</html>
